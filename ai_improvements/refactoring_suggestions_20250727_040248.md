# Refactoring Suggestions

**File**: `./app/main.py`  
**Time**: 04:02:48  
**Type**: refactoring_suggestions

## Improvement

```python
from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from app.api import products, queries
from app.utils.config import settings


app = FastAPI(
    title="Product Assistant",
    description="Smart product recommendation system",
    version="1.0.0"
)

# CORS setup can be moved to a separate function for better organization
def configure_cors(app: FastAPI):
    app.add_middleware(
        CORSMiddleware,
        allow_origins=["*"],
        allow_credentials=True,
        allow_methods=["*"],
        allow_headers=["*"],
    )


configure_cors(app)


app.include_router(products.router, prefix="/api/products", tags=["products"])
app.include_router(queries.router, prefix="/api/queries", tags=["queries"])


@app.get("/")
async def root():
    return {"message": "Product Assistant API - Ready to help you find products"}


@app.get("/health")
async def health_check():
    return {"status": "healthy", "version": "1.0.0"}
```

**Explanation of Refactoring:**

The refactoring improvement is to encapsulate the CORS middleware configuration into a separate function called `configure_cors`.

**Reasoning:**

*   **Improved Organization and Readability:** Moving the CORS configuration into its own function makes the `app` definition more concise and easier to read. It clearly separates the app initialization from the CORS setup.
*   **Reusability:**  If you have multiple FastAPI applications or need to configure CORS in different parts of your code, this function can be easily reused.
*   **Maintainability:** If you need to change the CORS configuration in the future (e.g., add specific origins), you only need to modify the `configure_cors` function.
*   **Testability:** Extracting the CORS setup into a function makes it easier to test the configuration separately from the main application logic.

This refactoring improves the code's structure without changing its functionality, making it more organized, readable, and maintainable.

---
*Generated by Smart AI Bot*
