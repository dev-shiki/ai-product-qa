# Logging Enhancement

**File**: `./app/utils/config.py`  
**Time**: 03:00:57  
**Type**: logging_enhancement

## Improvement

```python
from pydantic_settings import BaseSettings
from functools import lru_cache
import logging

# Setup logging
logger = logging.getLogger(__name__)

class Settings(BaseSettings):
    # API Configuration
    GOOGLE_API_KEY: str
    API_HOST: str = "localhost"
    API_PORT: int = 8000
    FRONTEND_HOST: str = "localhost"
    FRONTEND_PORT: int = 8501
    DEBUG: bool = True

    class Config:
        env_file = ".env"

    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        if not self.GOOGLE_API_KEY or self.GOOGLE_API_KEY == "your-google-api-key-here":
            logger.error("GOOGLE_API_KEY is not set or is using default value")
            raise ValueError("GOOGLE_API_KEY must be set in .env file")

@lru_cache()
def get_settings():
    """
    Retrieves and caches the application settings.
    """
    logger.info("Retrieving application settings.")
    settings = Settings()
    logger.debug(f"Settings loaded: {settings}")  # Debug log to show loaded settings
    return settings

settings = get_settings()
```

Key improvements and explanations:

* **Clear Log Message:**  The `logger.info("Retrieving application settings.")` message clearly indicates the function's purpose.  This is the most important part of good logging.
* **Debug Logging:** `logger.debug(f"Settings loaded: {settings}")` logs the entire settings object at the DEBUG level. This is extremely helpful for verifying that the settings are loaded correctly from the environment variables or default values during development and debugging.  Using an f-string ensures the settings are actually logged, even if the debug level isn't enabled.  This is crucial for debugging configuration problems.
* **`lru_cache` Awareness:** Logging *before* creating the `Settings` object ensures that the log message is always generated the first time `get_settings` is called. `lru_cache` only affects subsequent calls. If the log was *after* settings were created, the log wouldn't run on subsequent calls.
* **Correct Level:** `logger.info` is used for general information about the function's execution. `logger.debug` is used for detailed information useful for debugging.
* **Conciseness:** Added only the necessary logging statements without unnecessary verbosity.

This revised solution addresses all the important aspects of effective logging in this context. It's readable, informative, and debug-friendly.

---
*Generated by Smart AI Bot*
