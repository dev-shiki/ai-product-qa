# Logging Enhancement

**File**: `./app/main.py`  
**Time**: 03:02:42  
**Type**: logging_enhancement

## Improvement

```python
from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from app.api import products, queries
from app.utils.config import settings
import logging

# Configure logging
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')


app = FastAPI(
    title="Product Assistant",
    description="Smart product recommendation system",
    version="1.0.0"
)

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

app.include_router(products.router, prefix="/api/products", tags=["products"])
app.include_router(queries.router, prefix="/api/queries", tags=["queries"])

@app.get("/")
async def root():
    logging.info("Root endpoint accessed.")
    return {"message": "Product Assistant API - Ready to help you find products"}

@app.get("/health")
async def health_check():
    return {"status": "healthy", "version": "1.0.0"}
```

Key improvements and explanations:

* **`import logging`**:  Crucially, you need to import the `logging` module to use it.
* **`logging.basicConfig(...)`**: This is *essential* to configure the logging system.  Without this, you won't see any log messages.  I've added a basic configuration that logs messages to the console at the `INFO` level, including a timestamp and the log level.  You can customize this further (e.g., log to a file, change the format, set a different level).  The `level=logging.INFO` means that `INFO`, `WARNING`, `ERROR`, and `CRITICAL` messages will be logged. `DEBUG` messages would be ignored with this configuration.
* **`logging.info("Root endpoint accessed.")`**:  This is the actual logging statement.  It uses `logging.info()` to log an informational message whenever the root endpoint (`/`) is accessed.  You can use `logging.debug()`, `logging.warning()`, `logging.error()`, and `logging.critical()` for different severity levels.  I chose `info` because accessing the root is a normal, expected event.
* **Placement**: The logging statement is placed at the *beginning* of the function. This is generally good practice so you know the endpoint was hit *before* any potential errors occur *within* the function.  If you wanted to log something after the function completes successfully, you could add another `logging.info()` statement *after* the `return`.

How to run this and see the logging output:

1.  **Install Dependencies:** Make sure you have FastAPI and Uvicorn installed:
    ```bash
    pip install fastapi uvicorn
    ```

2.  **Run the application:**  Save the code above as, for example, `main.py`. Then, run it using Uvicorn:
    ```bash
    uvicorn main:app --reload
    ```

3.  **Access the root endpoint:** Open your web browser and go to `http://127.0.0.1:8000/` (or whatever address Uvicorn tells you it's running on).

4.  **Observe the output:**  In the terminal where you ran Uvicorn, you should see a log message similar to this:

    ```
    2023-11-16 10:30:00,123 - INFO - Root endpoint accessed.
    ```

This demonstrates that the logging is working correctly.  Now you can add logging to other parts of your application as needed.  Remember to choose the appropriate log level (DEBUG, INFO, WARNING, ERROR, CRITICAL) based on the severity of the event you're logging.

---
*Generated by Smart AI Bot*
