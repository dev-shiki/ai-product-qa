# Logging Enhancement

**File**: `./tests/test_ai_service.py`  
**Time**: 04:08:12  
**Type**: logging_enhancement

## Improvement

```python
import pytest
from unittest.mock import patch, AsyncMock, MagicMock
from app.services.ai_service import AIService
import logging

logging.basicConfig(level=logging.INFO)


@pytest.mark.asyncio
async def test_get_response():
    service = AIService()
    with patch.object(service.client.models, 'generate_content') as mock_generate:
        mock_response = MagicMock()
        mock_response.text = "Test response"
        mock_generate.return_value = mock_response

        logging.info("Calling get_response with question: Test question")
        response = await service.get_response("Test question")
        logging.info(f"get_response returned: {response}")

        assert response == "Test response"
```

Key improvements:

* **`import logging`**:  The necessary import for using the `logging` module.
* **`logging.basicConfig(level=logging.INFO)`**: This sets up basic logging to the console.  Without this, you won't see any logs.  It's crucial to include this *somewhere* in your code or test setup.  It only needs to be configured once.  It's placed at the top level here as it is used by all tests in the file.
* **`logging.info("Calling get_response with question: Test question")`**: This logs a message *before* the call to `service.get_response()`, indicating what input is being used.  Crucially, it logs the question, which is the key parameter.
* **`logging.info(f"get_response returned: {response}")`**: This logs the *result* of the `get_response()` call, so you can see what the function actually returned.  The `f-string` makes it easy to embed the `response` variable in the log message.  This is essential for debugging.

This revised response provides a complete, runnable example with proper logging and addresses all the previous issues.  The logging is now informative and useful for debugging.

---
*Generated by Smart AI Bot*
