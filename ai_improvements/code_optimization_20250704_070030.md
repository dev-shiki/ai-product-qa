# Code Optimization

**File**: `./tests/test_ai_service.py`  
**Time**: 07:00:30  
**Type**: code_optimization

## Improvement

**Optimization:**

Move the service instantiation `service = AIService()` outside the individual test functions and use `pytest.fixture` to create a single instance for all tests.

**Explanation:**

Currently, each test function creates a new instance of `AIService`.  Since the tests only patch the service's `generate_content` method, the service instance itself doesn't need to be recreated for each test.  Using a `pytest.fixture` ensures that the `AIService` is only created once per test session (or as configured), reducing the overhead of object instantiation.  This is especially beneficial if `AIService` has a costly initialization process.  It also makes the tests slightly cleaner and easier to read.

---
*Generated by Smart AI Bot*
