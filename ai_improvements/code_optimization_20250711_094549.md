# Code Optimization

**File**: `./tests/test_models.py`  
**Time**: 09:45:49  
**Type**: code_optimization

## Improvement

**Optimization:** Use `pytest.mark.parametrize` to avoid repeating the same assertion logic.

**Improved Code:**

```python
from app.models.product import Product, ProductSpecifications, ProductResponse
import pytest

@pytest.mark.parametrize(
    "rating, sold, stock, condition, shop_location, shop_name, storage, color, warranty",
    [(4.5, 100, 10, "Baru", "Jakarta", "Toko A", "128GB", "Hitam", "1 tahun")]
)
def test_product_specifications(rating, sold, stock, condition, shop_location, shop_name, storage, color, warranty):
    spec = ProductSpecifications(rating=rating, sold=sold, stock=stock, condition=condition, shop_location=shop_location, shop_name=shop_name, storage=storage, color=color, warranty=warranty)
    assert spec.rating == rating
    assert spec.sold == sold
    assert spec.shop_location == shop_location
    assert spec.color == color

@pytest.mark.parametrize(
    "id, name, category, brand, price, currency, description, rating, images, url",
    [("1", "Produk A", "Elektronik", "BrandX", 1000000, "IDR", "Deskripsi produk", 5, ["img1.jpg"], "http://produk.com/1")]
)
def test_product(id, name, category, brand, price, currency, description, rating, images, url):
    spec = ProductSpecifications(rating=rating)
    product = Product(
        id=id,
        name=name,
        category=category,
        brand=brand,
        price=price,
        currency=currency,
        description=description,
        specifications=spec,
        images=images,
        url=url
    )
    assert product.id == id
    assert product.specifications.rating == rating
    assert product.images == images

@pytest.mark.parametrize(
    "id, name, category, brand, price, description, rating, images, url",
    [("1", "Produk A", "Elektronik", "BrandX", 1000000, "Deskripsi produk", 5, ["img1.jpg"], "http://produk.com/1")]
)
def test_product_response(id, name, category, brand, price, description, rating, images, url):
    resp = ProductResponse(
        id=id,
        name=name,
        category=category,
        brand=brand,
        price=price,
        description=description,
        specifications={"rating": rating},
        images=images,
        url=url
    )
    assert resp.id == id
    assert resp.specifications["rating"] == rating
```

**Explanation:**

Instead of hardcoding the values within each test function, we use `pytest.mark.parametrize` to pass the expected values as arguments to the test function. This makes the tests more flexible (easy to add more test cases) and avoids repetition of assertion logic. If the models change in the future and have different values you only need to change them in one place. Also, you could use different values to check different cases. The parameters represent the expected values and are directly asserted against the object being tested.

---
*Generated by Smart AI Bot*
