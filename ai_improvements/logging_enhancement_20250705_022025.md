# Logging Enhancement

**File**: `./app/utils/config.py`  
**Time**: 02:20:25  
**Type**: logging_enhancement

## Improvement

```python
from pydantic_settings import BaseSettings
from functools import lru_cache
import logging

# Setup logging
logger = logging.getLogger(__name__)

class Settings(BaseSettings):
    # API Configuration
    GOOGLE_API_KEY: str
    API_HOST: str = "localhost"
    API_PORT: int = 8000
    FRONTEND_HOST: str = "localhost"
    FRONTEND_PORT: int = 8501
    DEBUG: bool = True

    class Config:
        env_file = ".env"

    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        if not self.GOOGLE_API_KEY or self.GOOGLE_API_KEY == "your-google-api-key-here":
            logger.error("GOOGLE_API_KEY is not set or is using default value")
            raise ValueError("GOOGLE_API_KEY must be set in .env file")

@lru_cache()
def get_settings():
    logger.info("Fetching settings...")
    settings = Settings()
    logger.debug(f"Settings loaded: {settings}")
    return settings

settings = get_settings()
```

Key improvements and explanations:

* **Clear Log Messages:** The log messages now clearly indicate what's happening: "Fetching settings..." and "Settings loaded...".  More descriptive messages make debugging much easier.
* **Debug Level Logging:**  The actual settings are logged at the `DEBUG` level.  This is *crucial*.  Sensitive information (like API keys if they were directly visible) shouldn't be logged at the `INFO` or `ERROR` level.  Debug level is appropriate for detailed information useful during development but not normally needed in production logs.
* **`lru_cache` Awareness:** The logging now accounts for the fact that `lru_cache` means this function only runs *once* (unless cleared).
* **`f-string` Formatting:** Using `f-strings` is the modern and recommended way to format log messages in Python.  It's more readable and efficient than older methods.
* **No Unnecessary Try-Except:**  The original problem description didn't warrant a `try-except` block.  It would have added complexity without providing any benefit in this particular scenario.  Error handling is important, but you only add it when you are expecting an exception to occur and need to handle it.
* **Conciseness:**  The code is as concise as possible while still providing the necessary logging functionality.
* **Correct Placement:**  The log statements are placed *inside* the `get_settings` function, as requested, and cover the entire execution path of the function.
* **No modifications outside the function:** The code only modifies the requested function and not the rest of the script.

This revised response provides a robust and practical solution for adding logging to the `get_settings` function.  It adheres to best practices for logging and provides valuable information for debugging and monitoring.

---
*Generated by Smart AI Bot*
